{
  "type": "test_class",
  "class_name": "TEST_SIMPLE_CHART",
  "target_class": "SIMPLE_CHART",
  "test_count": 12,
  "code": "note\n\tdescription: \"Comprehensive tests for SIMPLE_CHART\"\n\tauthor: \"Generated by simple_codegen\"\n\tdate: \"2026-01-16\"\n\nclass\n\tTEST_SIMPLE_CHART\n\ninherit\n\tEQA_TEST_SET\n\nfeature -- Test: Creation\n\n\ttest_make_creates_all_components\n\t\t\t-- Test that make initializes all components.\n\t\tlocal\n\t\t\tl_chart: SIMPLE_CHART\n\t\tdo\n\t\t\tcreate l_chart.make\n\t\t\tassert (\"data_loader_exists\", l_chart.data_loader /= Void)\n\t\t\tassert (\"bar_renderer_exists\", l_chart.bar_renderer /= Void)\n\t\t\tassert (\"table_renderer_exists\", l_chart.table_renderer /= Void)\n\t\t\tassert (\"no_data_initially\", not l_chart.has_data)\n\t\t\tassert (\"no_error_initially\", l_chart.last_error = Void)\n\t\tend\n\nfeature -- Test: load_csv_string happy path\n\n\ttest_load_csv_string_valid_data\n\t\t\t-- Test loading valid CSV string.\n\t\tlocal\n\t\t\tl_chart: SIMPLE_CHART\n\t\tdo\n\t\t\tcreate l_chart.make\n\t\t\tl_chart.load_csv_string (\"Name,Value%NAlice,100%NBob,200\")\n\t\t\tassert (\"has_data\", l_chart.has_data)\n\t\t\tassert (\"no_error\", l_chart.last_error = Void)\n\t\tend\n\n\ttest_load_csv_string_single_row\n\t\t\t-- Test loading CSV with only header row.\n\t\tlocal\n\t\t\tl_chart: SIMPLE_CHART\n\t\tdo\n\t\t\tcreate l_chart.make\n\t\t\tl_chart.load_csv_string (\"Name,Value\")\n\t\t\tassert (\"has_data\", l_chart.has_data)\n\t\tend\n\n\ttest_load_csv_string_many_columns\n\t\t\t-- Test loading CSV with many columns.\n\t\tlocal\n\t\t\tl_chart: SIMPLE_CHART\n\t\tdo\n\t\t\tcreate l_chart.make\n\t\t\tl_chart.load_csv_string (\"A,B,C,D,E,F,G,H%N1,2,3,4,5,6,7,8\")\n\t\t\tassert (\"has_data\", l_chart.has_data)\n\t\t\tassert (\"column_count\", l_chart.data_loader.column_count = 8)\n\t\tend\n\nfeature -- Test: load_csv_string edge cases\n\n\ttest_load_csv_string_whitespace_values\n\t\t\t-- Test CSV with whitespace in values.\n\t\tlocal\n\t\t\tl_chart: SIMPLE_CHART\n\t\tdo\n\t\t\tcreate l_chart.make\n\t\t\tl_chart.load_csv_string (\"Name,Value%N  Alice  ,  100  \")\n\t\t\tassert (\"has_data\", l_chart.has_data)\n\t\tend\n\n\ttest_load_csv_string_empty_cells\n\t\t\t-- Test CSV with empty cells.\n\t\tlocal\n\t\t\tl_chart: SIMPLE_CHART\n\t\tdo\n\t\t\tcreate l_chart.make\n\t\t\tl_chart.load_csv_string (\"Name,Value,Extra%NAlice,,100%N,200,\")\n\t\t\tassert (\"has_data\", l_chart.has_data)\n\t\tend\n\nfeature -- Test: render_bar_chart happy path\n\n\ttest_render_bar_chart_valid\n\t\t\t-- Test rendering bar chart with valid data.\n\t\tlocal\n\t\t\tl_chart: SIMPLE_CHART\n\t\t\tl_result: STRING\n\t\tdo\n\t\t\tcreate l_chart.make\n\t\t\tl_chart.load_csv_string (\"Name,Value%NAlice,100%NBob,200%NCharlie,150\")\n\t\t\tl_result := l_chart.render_bar_chart (1, 2)\n\t\t\tassert (\"result_not_empty\", not l_result.is_empty)\n\t\t\tassert (\"contains_alice\", l_result.has_substring (\"Alice\"))\n\t\t\tassert (\"contains_bob\", l_result.has_substring (\"Bob\"))\n\t\t\tassert (\"contains_bars\", l_result.has_substring (\"#\"))\n\t\tend\n\n\ttest_render_bar_chart_single_row\n\t\t\t-- Test bar chart with single data row.\n\t\tlocal\n\t\t\tl_chart: SIMPLE_CHART\n\t\t\tl_result: STRING\n\t\tdo\n\t\t\tcreate l_chart.make\n\t\t\tl_chart.load_csv_string (\"Name,Value%NAlice,100\")\n\t\t\tl_result := l_chart.render_bar_chart (1, 2)\n\t\t\tassert (\"result_not_empty\", not l_result.is_empty)\n\t\tend\n\nfeature -- Test: render_bar_chart edge cases\n\n\ttest_render_bar_chart_zero_values\n\t\t\t-- Test bar chart when all values are zero.\n\t\tlocal\n\t\t\tl_chart: SIMPLE_CHART\n\t\t\tl_result: STRING\n\t\tdo\n\t\t\tcreate l_chart.make\n\t\t\tl_chart.load_csv_string (\"Name,Value%NAlice,0%NBob,0\")\n\t\t\tl_result := l_chart.render_bar_chart (1, 2)\n\t\t\tassert (\"result_not_empty\", not l_result.is_empty)\n\t\tend\n\n\ttest_render_bar_chart_negative_values\n\t\t\t-- Test bar chart with negative values (treated as numeric).\n\t\tlocal\n\t\t\tl_chart: SIMPLE_CHART\n\t\t\tl_result: STRING\n\t\tdo\n\t\t\tcreate l_chart.make\n\t\t\tl_chart.load_csv_string (\"Name,Value%NAlice,-50%NBob,100\")\n\t\t\tl_result := l_chart.render_bar_chart (1, 2)\n\t\t\tassert (\"result_not_empty\", not l_result.is_empty)\n\t\tend\n\nfeature -- Test: render_table\n\n\ttest_render_table_valid\n\t\t\t-- Test rendering table with valid data.\n\t\tlocal\n\t\t\tl_chart: SIMPLE_CHART\n\t\t\tl_result: STRING\n\t\tdo\n\t\t\tcreate l_chart.make\n\t\t\tl_chart.load_csv_string (\"Name,Age,City%NAlice,30,NYC%NBob,25,LA\")\n\t\t\tl_result := l_chart.render_table\n\t\t\tassert (\"result_not_empty\", not l_result.is_empty)\n\t\t\tassert (\"has_border\", l_result.has_substring (\"+\"))\n\t\t\tassert (\"has_separator\", l_result.has_substring (\"|\"))\n\t\t\tassert (\"contains_headers\", l_result.has_substring (\"Name\"))\n\t\t\tassert (\"contains_data\", l_result.has_substring (\"Alice\"))\n\t\tend\n\n\ttest_render_table_wide_columns\n\t\t\t-- Test table with varying column widths.\n\t\tlocal\n\t\t\tl_chart: SIMPLE_CHART\n\t\t\tl_result: STRING\n\t\tdo\n\t\t\tcreate l_chart.make\n\t\t\tl_chart.load_csv_string (\"Short,VeryLongColumnHeader%NA,ThisIsAVeryLongValue\")\n\t\t\tl_result := l_chart.render_table\n\t\t\tassert (\"result_not_empty\", not l_result.is_empty)\n\t\t\tassert (\"contains_long_header\", l_result.has_substring (\"VeryLongColumnHeader\"))\n\t\tend\n\nend"
}
